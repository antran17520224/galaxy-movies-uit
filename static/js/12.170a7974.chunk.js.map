{"version":3,"sources":["modules/Ticketing/components/Stepper/Seats/index.tsx","modules/Ticketing/components/Ticket/index.tsx","modules/Ticketing/components/Stepper/Foods/index.tsx","modules/Ticketing/components/Stepper/Confirm/index.tsx","modules/Ticketing/components/Stepper/Result/index.tsx","modules/Ticketing/components/Stepper/index.tsx","modules/Ticketing/components/TicketingPage.tsx","modules/Ticketing/components/TicketingPageContainer.ts"],"names":["useStyles","makeStyles","theme","createStyles","rootButton","color","width","height","groupRoot","margin","backgroundColor","groupRootDes","Seats","props","React","useState","localSeat","setLocalSeat","isShowButton","setIsShowButton","classes","currentSession","store","DetailPage","useEffect","length","actions","showNextButton","handleChooseSeats","seats","Fragment","className","ToggleButtonGroup","value","onChange","event","newSeats","window","alert","lastSeats","pop","temp","filter","seat","aria-label","root","style","display","theaters_id","map","index","ToggleButton","code","disabled","isBooked","border","borderRadius","marginLeft","Ticket","TicketingPage","priceFood","quantityFood","foodRecords","Grid","container","item","xs","src","movie_id","smallImage","alt","cinema_id","cinema_Name","time","moment","date","format","Intl","NumberFormat","food","food_Name","price","Foods","arrayQuantityFood","setArrayQuantityFood","currentPriceFood","setCurrentPriceFood","changeArrayQuantity","setChangeArrayQuantity","getAllFoods","scroll","forEach","push","alignItems","food_Image","desc","onClick","quantity","tempPrice","handleChooseFoods","arrayQuantity","handleDecreaseAmount","handleIncreaseAmount","ConfirmTicket","linkPayment","temptFoodId","setFoodId","temptQuantityFood","setTemptQuantityFood","userInfo","LoginPage","isCreateTicketSuccess","idTicket","amount","_id","confirmPayment","bankCode","orderDescription","orderType","orderInfo","useForm","register","handleSubmit","errors","textAlign","marginBottom","fontSize","fullName","email","phone","onSubmit","data","createTicket","seatCodes","sessionId","totalPrice","foodId","movieId","theatersId","cinemaId","FormControlLabel","control","Checkbox","name","label","inputRef","required","accept","message","Button","marginTop","variant","type","ResultPayment","ticketsByUserId","callOneTime","setCall","getTicket","setGetTicket","setLoading","getTicketByIdUser","open","setTimeout","count","check","ticket","status","ColorlibConnector","withStyles","alternativeLabel","top","active","backgroundImage","boxShadow","completed","line","StepConnector","useColorlibStepIconStyles","zIndex","justifyContent","ColorlibStepIcon","icons","1","2","3","4","clsx","String","icon","button","marginRight","spacing","position","right","instructions","stepperRoot","padding","stepLabel","stepLabelRoot","CustomizedSteppers","steps","activeStep","isShowNextButton","Stepper","connector","Step","StepLabel","StepIconComponent","step","getStepContent","handleActiveStep","loading","isProcessing","history","useHistory","scrollTo","spinning","opacity","text","withRouter","connect","dispatch","allActions","ticketingActions","bindActionCreators"],"mappings":"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","file":"static/js/12.170a7974.chunk.js","sourcesContent":["import { createStyles, Grid, makeStyles, Theme } from '@material-ui/core';\r\nimport ToggleButton from '@material-ui/lab/ToggleButton';\r\nimport ToggleButtonGroup from '@material-ui/lab/ToggleButtonGroup';\r\nimport React from 'react';\r\nimport { ITicketingProps } from '../../../model/ITicketingProps';\r\nimport './Seats.scss';\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n\tcreateStyles({\r\n\t\trootButton: {\r\n\t\t\tcolor: '#fff',\r\n\t\t\twidth: '50px',\r\n\t\t\theight: '48px',\r\n\t\t},\r\n\t\tgroupRoot: {\r\n\t\t\tmargin: '0px auto',\r\n\t\t\t'& .Mui-disabled': {\r\n\t\t\t\tbackgroundColor: '#505050',\r\n\t\t\t\tcolor: '#fff',\r\n\t\t\t\twidth: '50px',\r\n\t\t\t\theight: '48px',\r\n\t\t\t},\r\n\t\t\t'& .Mui-selected': {\r\n\t\t\t\tbackgroundColor: '#24baef',\r\n\t\t\t\tcolor: '#fff',\r\n\t\t\t\twidth: '50px',\r\n\t\t\t\theight: '48px',\r\n\t\t\t},\r\n\t\t\t'& .Mui-selected:hover': {\r\n\t\t\t\tbackgroundColor: '#24baef',\r\n\t\t\t\tcolor: '#fff',\r\n\t\t\t\twidth: '50px',\r\n\t\t\t\theight: '48px',\r\n\t\t\t},\r\n\t\t},\r\n\t\tgroupRootDes: {\r\n\t\t\t'& .Mui-disabled': {\r\n\t\t\t\tbackgroundColor: '#505050',\r\n\t\t\t\tcolor: '#fff',\r\n\t\t\t\twidth: '50px',\r\n\t\t\t\theight: '48px',\r\n\t\t\t},\r\n\t\t},\r\n\t})\r\n);\r\nexport const Seats: React.FC<ITicketingProps> = (props) => {\r\n\tconst [localSeat, setLocalSeat] = React.useState<string[]>(() => []);\r\n\tconst [isShowButton, setIsShowButton] = React.useState(false);\r\n\r\n\tconst classes = useStyles();\r\n\r\n\tconst { currentSession } = props.store.DetailPage;\r\n\r\n\tconst handleChooseSeats = (event: any, newSeats: string[]) => {\r\n\t\tif (localSeat.length === 10) {\r\n\t\t\tif (newSeats.length < 10) {\r\n\t\t\t\tsetLocalSeat(newSeats);\r\n\t\t\t} else {\r\n\t\t\t\twindow.alert('Bạn chỉ có thể chọn tối đa 10 ghế !');\r\n\t\t\t\tconst lastSeats = newSeats.pop();\r\n\t\t\t\tconst temp = localSeat.filter((seat) => {\r\n\t\t\t\t\treturn seat !== lastSeats;\r\n\t\t\t\t});\r\n\t\t\t\tsetLocalSeat(temp);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (localSeat.length < 10) {\r\n\t\t\tsetLocalSeat(newSeats);\r\n\t\t}\r\n\t};\r\n\tReact.useEffect(() => {\r\n\t\tif (localSeat.length > 0 && !isShowButton) {\r\n\t\t\tsetIsShowButton(true);\r\n\t\t\tprops.actions.showNextButton(true);\r\n\t\t}\r\n\t\tprops.actions.handleChooseSeats({\r\n\t\t\tseats: localSeat,\r\n\t\t});\r\n\t\tif (localSeat.length === 0) {\r\n\t\t\tsetIsShowButton(false);\r\n\t\t\tprops.actions.showNextButton(false);\r\n\t\t}\r\n\t}, [localSeat.length, isShowButton]);\r\n\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<div className=\"wrapper-seats-page\">\r\n\t\t\t\t<div className=\"title-screen\">\r\n\t\t\t\t\t<h1>Screen</h1>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"screen\"></div>\r\n\t\t\t\t<div className=\"wrapper-description-seats\">\r\n\t\t\t\t\t<div className=\"checked\">\r\n\t\t\t\t\t\t<span className=\"icon-checked\">A</span>\r\n\t\t\t\t\t\t<span className=\"title-checked\">Đang chọn</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"empty\">\r\n\t\t\t\t\t\t<span className=\"icon-empty\">A</span>\r\n\t\t\t\t\t\t<span className=\"title-empty\">Còn trống</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"occupied\">\r\n\t\t\t\t\t\t<span className=\"icon-occupied\">A</span>\r\n\t\t\t\t\t\t<span className=\"title-occupied\">Đã bán</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"wrapper-seats\">\r\n\t\t\t\t\t<ToggleButtonGroup\r\n\t\t\t\t\t\tvalue={localSeat}\r\n\t\t\t\t\t\tonChange={handleChooseSeats}\r\n\t\t\t\t\t\taria-label=\"text formatting\"\r\n\t\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\t\troot: classes.groupRoot,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\tdisplay: 'inline',\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{currentSession?.theaters_id.seats.map(\r\n\t\t\t\t\t\t\t(seat, index) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<ToggleButton\r\n\t\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\t\tvalue={seat.code}\r\n\t\t\t\t\t\t\t\t\t\taria-label={seat.code}\r\n\t\t\t\t\t\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\t\t\t\t\t\troot: classes.rootButton,\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tdisabled={\r\n\t\t\t\t\t\t\t\t\t\t\tseat.isBooked === 1 ? true : false\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\tborder: '1px solid #fff',\r\n\t\t\t\t\t\t\t\t\t\t\tborderRadius: 'none',\r\n\t\t\t\t\t\t\t\t\t\t\tmarginLeft: '0',\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{seat.code}\r\n\t\t\t\t\t\t\t\t\t</ToggleButton>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</ToggleButtonGroup>\r\n\r\n\t\t\t\t\t<div className=\"note\">\r\n\t\t\t\t\t\t* Lưu ý bạn chỉ có thể chọn tối đa 10 ghế\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</React.Fragment>\r\n\t);\r\n};\r\n","import { Grid } from \"@material-ui/core\";\r\nimport moment from \"moment\";\r\nimport React from \"react\";\r\nimport { ITicketingProps } from \"../../model/ITicketingProps\";\r\nimport \"./Ticket.scss\";\r\n\r\ntype IProps = ITicketingProps\r\n\r\nexport const Ticket: React.FC<IProps> = props => {\r\n    const { currentSession } = props.store.DetailPage;\r\n    const { seats, priceFood, quantityFood, foodRecords } = props.store.TicketingPage;\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\r\n    React.useEffect(() => {\r\n    }, [priceFood]);\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <Grid container className=\"wrapper-ticket\">\r\n                <div className=\"bg-top-ticket\"></div>\r\n                <Grid item xs={2} className=\"wrapper-movie-being-booked\">\r\n                    <div className=\"wrapper-image\">\r\n                        <img src={currentSession?.movie_id.smallImage} alt=\"img-movies\" />\r\n                    </div>\r\n                </Grid>\r\n                <Grid item xs={4} className=\"ticket-theater\">\r\n                    <div className=\"name-theater\">\r\n                        Tên rạp : <span>{currentSession?.cinema_id.cinema_Name}</span>\r\n                    </div>\r\n                    <div className=\"time-showing\">\r\n                        Suất chiếu : <span>{currentSession?.time}</span>\r\n                    </div>\r\n                    <div className=\"date-showing\">\r\n                        Ngày chiếu :{\" \"}\r\n                        <span>{moment(currentSession?.date).format(\"L\")}</span>\r\n                    </div>\r\n                </Grid>\r\n                <Grid item xs={5} className=\"cart\">\r\n                    <div className=\"seat-picking\">\r\n                        Ghế đang chọn :\r\n                        {seats.map((seat, index) => {\r\n                            if (index === 0) {\r\n                                return (\r\n                                    <span\r\n                                        style={{\r\n                                            marginLeft: \"10px\"\r\n                                        }}\r\n                                        key={index}\r\n                                    >{`${seat}`}</span>\r\n                                );\r\n                            } else {\r\n                                return <span key={index}>{`,\\xa0${seat} `}</span>;\r\n                            }\r\n                        })}\r\n                    </div>\r\n                    <div className=\"combo-food\">\r\n                        Combo food :\r\n                        <span\r\n                            style={{\r\n                                marginLeft: \"10px\"\r\n                            }}\r\n                        >\r\n                            {new Intl.NumberFormat().format(priceFood)}đ\r\n                        </span>\r\n                    </div>\r\n                    <div className=\"combo-food\">\r\n                        Tên combo :\r\n                        {quantityFood.map((food, index) => {\r\n                            if (food !== 0) {\r\n                                return (\r\n                                    <p\r\n                                        style={{\r\n                                            margin: \"0\"\r\n                                        }}\r\n                                        key={index}\r\n                                    >\r\n                                        {foodRecords[index].food_Name + \"x\" + food}\r\n                                    </p>\r\n                                );\r\n                            }\r\n                        })}\r\n                    </div>\r\n                    <div className=\"total-price\">\r\n                        Tổng tiền :\r\n                        <span\r\n                            style={{\r\n                                marginLeft: \"10px\"\r\n                            }}\r\n                        >\r\n                            {new Intl.NumberFormat().format(\r\n                                currentSession?.price as number * seats.length + priceFood\r\n                            )}{\" \"}\r\n                            đ\r\n                        </span>\r\n                    </div>\r\n                </Grid>\r\n                <div className=\"bg-bottom-ticket\"></div>\r\n            </Grid>\r\n        </React.Fragment>\r\n    );\r\n};\r\n","import React from 'react';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport RemoveIcon from '@material-ui/icons/Remove';\r\nimport './Food.scss';\r\nimport { ITicketingProps } from '../../../model/ITicketingProps';\r\nimport { Grid } from '@material-ui/core';\r\n\r\nexport const Foods: React.FC<ITicketingProps> = (props) => {\r\n\tconst { foodRecords } = props.store.TicketingPage;\r\n\tconst [arrayQuantityFood, setArrayQuantityFood] = React.useState<number[]>([]);\r\n\tconst [currentPriceFood, setCurrentPriceFood] = React.useState<number>(0);\r\n\tconst [changeArrayQuantity, setChangeArrayQuantity] = React.useState(false);\r\n\r\n\tReact.useEffect(() => {\r\n\t\tif (foodRecords.length === 0) {\r\n\t\t\tprops.actions.getAllFoods();\r\n\t\t\twindow.scroll(0, 0);\r\n\t\t}\r\n\t\tarrayQuantityFood.length === 0 &&\r\n\t\t\tfoodRecords.forEach((item) => {\r\n\t\t\t\tarrayQuantityFood.push(0);\r\n\t\t\t\tsetArrayQuantityFood(arrayQuantityFood);\r\n\t\t\t\tsetChangeArrayQuantity(true);\r\n\t\t\t});\r\n\t}, [arrayQuantityFood.length, foodRecords.length, changeArrayQuantity]);\r\n\r\n\tconst handleIncreaseAmount = (index: number) => {\r\n\t\tif (arrayQuantityFood[index] < foodRecords[index].quantity) {\r\n\t\t\tarrayQuantityFood[index]++;\r\n\t\t\tlet tempPrice = currentPriceFood;\r\n\t\t\ttempPrice += foodRecords[index].price;\r\n\t\t\tsetCurrentPriceFood(tempPrice);\r\n\t\t\tprops.actions.handleChooseFoods({\r\n\t\t\t\tpriceFood: tempPrice,\r\n\t\t\t\tarrayQuantity: arrayQuantityFood,\r\n\t\t\t});\r\n\t\t\tsetArrayQuantityFood(arrayQuantityFood);\r\n\t\t\tsetChangeArrayQuantity(!changeArrayQuantity);\r\n\t\t}\r\n\t};\r\n\tconst handleDecreaseAmount = (index: number) => {\r\n\t\tif (\r\n\t\t\tarrayQuantityFood[index] <= foodRecords[index].quantity &&\r\n\t\t\tarrayQuantityFood[index] > 0\r\n\t\t) {\r\n\t\t\tarrayQuantityFood[index]--;\r\n\t\t\tlet tempPrice = currentPriceFood;\r\n\t\t\ttempPrice -= foodRecords[index].price;\r\n\t\t\tsetCurrentPriceFood(tempPrice);\r\n\t\t\tprops.actions.handleChooseFoods({\r\n\t\t\t\tpriceFood: tempPrice,\r\n\t\t\t\tarrayQuantity: arrayQuantityFood,\r\n\t\t\t});\r\n\t\t\tsetArrayQuantityFood(arrayQuantityFood);\r\n\t\t\tsetChangeArrayQuantity(!changeArrayQuantity);\r\n\t\t}\r\n\t};\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<div className=\"wrapper-foods-page\">\r\n\t\t\t\t<Grid\r\n\t\t\t\t\tcontainer\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\talignItems: 'flex-end',\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{foodRecords &&\r\n\t\t\t\t\t\tfoodRecords.map((food, index) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<Grid item xs={3} key={index}>\r\n\t\t\t\t\t\t\t\t\t<div className=\"wrapper-foods\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"foods\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"img-food\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<img src={food.food_Image} alt=\"foods\" />\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"wrapper-foods-name\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<h2 className=\"name\">{food.food_Name}</h2>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"description\">{food.desc}</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"note\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t***Nhận trong ngày xem phim***\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"price\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tGiá :{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{new Intl.NumberFormat().format(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfood.price\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tđ\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"wrapper-button\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"sub\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<RemoveIcon\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleDecreaseAmount(index)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"amount\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{arrayQuantityFood[index]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"add\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<AddIcon\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleIncreaseAmount(index)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t</Grid>\r\n\t\t\t</div>\r\n\t\t</React.Fragment>\r\n\t);\r\n};\r\n","import { Button, Checkbox, FormControlLabel } from '@material-ui/core';\nimport React from 'react';\nimport { useForm } from 'react-hook-form';\nimport { ITicketingProps } from '../../../model/ITicketingProps';\nimport './Confirm.scss';\n\nexport const ConfirmTicket: React.FC<ITicketingProps> = (props) => {\n\tconst { linkPayment, seats, priceFood, quantityFood, foodRecords } = props.store.TicketingPage;\n\tconst [temptFoodId, setFoodId] = React.useState<string[]>([]);\n\tconst [temptQuantityFood, setTemptQuantityFood] = React.useState<number[]>([]);\n\n\tconst { currentSession } = props.store.DetailPage;\n\tconst { userInfo } = props.store.LoginPage;\n\tconst { isCreateTicketSuccess, idTicket } = props.store.TicketingPage;\n\n\tReact.useEffect(() => {\n\t\tquantityFood.map((amount, index) => {\n\t\t\tif (amount !== 0) {\n\t\t\t\ttemptFoodId.push(foodRecords[index]._id);\n\t\t\t\tsetFoodId(temptFoodId);\n\t\t\t\ttemptQuantityFood.push(amount);\n\t\t\t\tsetTemptQuantityFood(temptQuantityFood);\n\t\t\t}\n\t\t});\n\t\twindow.scroll(20, 0);\n\n\t\tif (isCreateTicketSuccess) {\n\t\t\tprops.actions.confirmPayment({\n\t\t\t\tamount: (currentSession?.price as number) * seats.length + priceFood,\n\t\t\t\tbankCode: 'NCB',\n\t\t\t\torderDescription: idTicket,\n\t\t\t\torderType: 'test',\n\t\t\t\torderInfo: 'test',\n\t\t\t});\n\t\t}\n\t}, [linkPayment, isCreateTicketSuccess]);\n\tconst { register, handleSubmit, errors } = useForm();\n\tconst onSubmit = (data: any) => {\n\t\tif (temptFoodId.length > 0) {\n\t\t\tprops.actions.createTicket({\n\t\t\t\tseatCodes: seats,\n\t\t\t\tsessionId: currentSession?._id as string,\n\t\t\t\ttotalPrice: (currentSession?.price as number) * seats.length + priceFood,\n\t\t\t\tfoodId: temptFoodId,\n\t\t\t\tquantityFood: temptQuantityFood,\n\t\t\t\tmovieId: currentSession?.movie_id._id as string,\n\t\t\t\ttheatersId: currentSession?.theaters_id._id as string,\n\t\t\t\tcinemaId: currentSession?.cinema_id._id as string,\n\t\t\t});\n\t\t} else {\n\t\t\tprops.actions.createTicket({\n\t\t\t\tseatCodes: seats,\n\t\t\t\tsessionId: currentSession?._id as string,\n\t\t\t\ttotalPrice: (currentSession?.price as number) * seats.length + priceFood,\n\t\t\t\tmovieId: currentSession?.movie_id._id as string,\n\t\t\t\ttheatersId: currentSession?.theaters_id._id as string,\n\t\t\t\tcinemaId: currentSession?.cinema_id._id as string,\n\t\t\t});\n\t\t}\n\t};\n\treturn (\n\t\tuserInfo && (\n\t\t\t<div className=\"wrapper-payment\">\n\t\t\t\t<h1\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\ttextAlign: 'center',\n\t\t\t\t\t\tmarginBottom: '30px',\n\t\t\t\t\t\tfontSize: '30px',\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\tThông tin giỏ hàng\n\t\t\t\t</h1>\n\t\t\t\t<div className=\"wrapper-user-info\">\n\t\t\t\t\t<span>Tên : {userInfo.fullName}</span>\n\t\t\t\t\t<span>Email : {userInfo.email}</span>\n\t\t\t\t\t<span>Số điện thoại : {userInfo.phone}</span>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"button-payment\">\n\t\t\t\t\t<form className=\"form\" onSubmit={handleSubmit(onSubmit)}>\n\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\tcontrol={<Checkbox value={true} color=\"primary\" name=\"accept\" />}\n\t\t\t\t\t\t\tlabel=\"Tôi đồng ý điều khoản sử dụng\"\n\t\t\t\t\t\t\tinputRef={register({\n\t\t\t\t\t\t\t\trequired: 'Bắt buộc',\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{errors.accept && <p>{errors.accept.message}</p>}\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tbackgroundColor: 'rgba(0,212,255,1)',\n\t\t\t\t\t\t\t\tcolor: '#fff',\n\t\t\t\t\t\t\t\tdisplay: 'block',\n\t\t\t\t\t\t\t\tmarginTop: '10px',\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tThanh toán\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t);\n};\n","import React from 'react';\r\nimport { LoadingCustom } from '../../../../../components';\r\nimport { ITicketingProps } from '../../../model/ITicketingProps';\r\nimport './Result.scss';\r\n\r\nexport const ResultPayment: React.FC<ITicketingProps> = (props) => {\r\n\tconst { ticketsByUserId, linkPayment } = props.store.TicketingPage;\r\n\r\n\tconst [callOneTime, setCall] = React.useState(true);\r\n\tconst [getTicket, setGetTicket] = React.useState(1);\r\n\tconst [loading, setLoading] = React.useState(true);\r\n\t// default === 1, success === 2, fail === 3\r\n\tReact.useEffect(() => {\r\n\t\tif (getTicket === 1 && callOneTime && linkPayment) {\r\n\t\t\tprops.actions.getTicketByIdUser();\r\n\t\t\twindow.open(`${linkPayment}`);\r\n\t\t\tsetCall(false);\r\n\t\t}\r\n\t\tsetTimeout(() => {\r\n\t\t\tsetGetTicket(3);\r\n\t\t}, 120 * 1000);\r\n\t\tconst count = ticketsByUserId.length;\r\n\t\tlet check = ticketsByUserId.length;\r\n\t\tif (ticketsByUserId) {\r\n\t\t\tticketsByUserId.map((ticket, index) => {\r\n\t\t\t\tif (ticket.status === 'waiting') {\r\n\t\t\t\t\tcheck = check - 1;\r\n\t\t\t\t}\r\n\t\t\t\tif (count - 1 === index) {\r\n\t\t\t\t\tif (check === ticketsByUserId.length) {\r\n\t\t\t\t\t\tsetGetTicket(2);\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tprops.actions.getTicketByIdUser();\r\n\t\t\t\t\t\t}, 10000);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}, [ticketsByUserId, getTicket, linkPayment]);\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t{getTicket === 1 ? (\r\n\t\t\t\t<h1\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\ttextAlign: 'center',\r\n\t\t\t\t\t\tcolor: '#47c7c5',\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\tĐang xử lý thanh toán ...\r\n\t\t\t\t</h1>\r\n\t\t\t) : getTicket === 2 ? (\r\n\t\t\t\t<h1\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\ttextAlign: 'center',\r\n\t\t\t\t\t\tcolor: '#47c7c5',\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\tPayment Successful !\r\n\t\t\t\t</h1>\r\n\t\t\t) : (\r\n\t\t\t\t<h1\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\ttextAlign: 'center',\r\n\t\t\t\t\t\tcolor: '#b02529',\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\tPayment Fail !!!\r\n\t\t\t\t</h1>\r\n\t\t\t)}\r\n\t\t</React.Fragment>\r\n\t);\r\n};\r\n","import Button from '@material-ui/core/Button';\r\nimport Step from '@material-ui/core/Step';\r\nimport StepConnector from '@material-ui/core/StepConnector';\r\nimport { StepIconProps } from '@material-ui/core/StepIcon';\r\nimport StepLabel from '@material-ui/core/StepLabel';\r\nimport Stepper from '@material-ui/core/Stepper';\r\nimport {\r\n\tcreateStyles,\r\n\tmakeStyles,\r\n\tTheme,\r\n\twithStyles,\r\n} from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport DoneAllIcon from '@material-ui/icons/DoneAll';\r\nimport EventSeatIcon from '@material-ui/icons/EventSeat';\r\nimport FastfoodIcon from '@material-ui/icons/Fastfood';\r\nimport PaymentIcon from '@material-ui/icons/Payment';\r\nimport clsx from 'clsx';\r\nimport React from 'react';\r\nimport { Seats } from './Seats';\r\nimport './Stepper.scss';\r\nimport { ITicketingProps } from '../../model/ITicketingProps';\r\nimport { Ticket } from '../Ticket';\r\nimport { Foods } from './Foods';\r\nimport { ConfirmTicket } from './Confirm';\r\nimport { ResultPayment } from './Result';\r\n\r\nconst ColorlibConnector = withStyles({\r\n\talternativeLabel: {\r\n\t\ttop: 22,\r\n\t},\r\n\tactive: {\r\n\t\t'& $line': {\r\n\t\t\tbackgroundImage:\r\n\t\t\t\t'linear-gradient( 136deg, rgb(242,113,33) 0%, rgb(233,64,87) 50%, rgb(138,35,135) 100%)',\r\n\t\t\tboxShadow: '0 4px 10px 0 rgba(0,0,0,.25)',\r\n\t\t},\r\n\t},\r\n\tcompleted: {\r\n\t\t'& $line': {\r\n\t\t\tbackgroundImage:\r\n\t\t\t\t'linear-gradient( 136deg, rgb(242,113,33) 0%, rgb(233,64,87) 50%, rgb(138,35,135) 100%)',\r\n\t\t},\r\n\t},\r\n\tline: {\r\n\t\theight: 3,\r\n\t\tborder: 0,\r\n\t\tbackgroundColor: '#eaeaf0',\r\n\t\tborderRadius: 1,\r\n\t},\r\n})(StepConnector);\r\n\r\nconst useColorlibStepIconStyles = makeStyles({\r\n\troot: {\r\n\t\tbackgroundColor: '#ccc',\r\n\t\tzIndex: 1,\r\n\t\tcolor: '#fff',\r\n\t\twidth: 50,\r\n\t\theight: 50,\r\n\t\tdisplay: 'flex',\r\n\t\tborderRadius: '50%',\r\n\t\tjustifyContent: 'center',\r\n\t\talignItems: 'center',\r\n\t},\r\n\tactive: {\r\n\t\tbackgroundImage:\r\n\t\t\t'linear-gradient(270deg, rgba(9,41,121,1) 19%, rgba(0,212,255,1) 100%);',\r\n\t\tboxShadow: '0 4px 10px 0 rgba(0,0,0,.25)',\r\n\t},\r\n\tcompleted: {\r\n\t\tbackgroundImage:\r\n\t\t\t'linear-gradient(270deg, rgba(9,41,121,1) 19%, rgba(0,212,255,1) 100%);',\r\n\t},\r\n});\r\n\r\nfunction ColorlibStepIcon(props: StepIconProps) {\r\n\tconst classes = useColorlibStepIconStyles();\r\n\tconst { active, completed } = props;\r\n\r\n\tconst icons: { [index: string]: React.ReactElement } = {\r\n\t\t1: <EventSeatIcon />,\r\n\t\t2: <FastfoodIcon />,\r\n\t\t3: <PaymentIcon />,\r\n\t\t4: <DoneAllIcon />,\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclassName={clsx(classes.root, {\r\n\t\t\t\t[classes.active]: active,\r\n\t\t\t\t[classes.completed]: completed,\r\n\t\t\t})}\r\n\t\t>\r\n\t\t\t{icons[String(props.icon)]}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n\tcreateStyles({\r\n\t\troot: {\r\n\t\t\twidth: '100%',\r\n\t\t},\r\n\t\tbutton: {\r\n\t\t\tmarginRight: theme.spacing(1),\r\n\t\t\tposition: 'absolute',\r\n\t\t\tright: '18%',\r\n\t\t},\r\n\t\tinstructions: {\r\n\t\t\tmarginTop: theme.spacing(1),\r\n\t\t\tmarginBottom: theme.spacing(1),\r\n\t\t},\r\n\t\tstepperRoot: {\r\n\t\t\tbackgroundColor: 'transparent',\r\n\t\t\tpadding: 0,\r\n\t\t},\r\n\t\tstepLabel: {\r\n\t\t\tcolor: '#bdbdbd',\r\n\t\t\tfontSize: '15px',\r\n\t\t},\r\n\t\tstepLabelRoot: {\r\n\t\t\t'& .MuiStepLabel-label.MuiStepLabel-active': {\r\n\t\t\t\tcolor: '#fff',\r\n\t\t\t},\r\n\t\t\t'& .MuiStepLabel-label.MuiStepLabel-completed': {\r\n\t\t\t\tcolor: '#fff',\r\n\t\t\t},\r\n\t\t},\r\n\t})\r\n);\r\n\r\nfunction getSteps() {\r\n\treturn ['Chọn ghế', 'Chọn đồ ăn', 'Thanh toán', 'Hoàn thành'];\r\n}\r\n\r\nexport const CustomizedSteppers: React.FC = (props: any) => {\r\n\tconst classes = useStyles();\r\n\tconst steps = getSteps();\r\n\tconst getStepContent = (step: number) => {\r\n\t\tswitch (step) {\r\n\t\t\tcase 0:\r\n\t\t\t\treturn <Seats {...props} />;\r\n\t\t\tcase 1:\r\n\t\t\t\treturn <Foods {...props} />;\r\n\t\t\tcase 2:\r\n\t\t\t\treturn <ConfirmTicket {...props} />;\r\n\t\t\tcase 3:\r\n\t\t\t\treturn <ResultPayment {...props} />;\r\n\t\t\tdefault:\r\n\t\t\t\treturn 'Unknown step';\r\n\t\t}\r\n\t};\r\n\r\n\tconst { activeStep } = props.store.TicketingPage;\r\n\r\n\tconst handleNext = () => {\r\n\t\tprops.actions.handleActiveStep({\r\n\t\t\tactiveStep: activeStep + 1,\r\n\t\t});\r\n\t};\r\n\r\n\tconst { isShowNextButton } = props.store.TicketingPage;\r\n\r\n\treturn (\r\n\t\t<div className={classes.root}>\r\n\t\t\t<Stepper\r\n\t\t\t\talternativeLabel\r\n\t\t\t\tactiveStep={activeStep}\r\n\t\t\t\tconnector={<ColorlibConnector />}\r\n\t\t\t\tclasses={{\r\n\t\t\t\t\troot: classes.stepperRoot,\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t{steps.map((label) => (\r\n\t\t\t\t\t<Step key={label}>\r\n\t\t\t\t\t\t<StepLabel\r\n\t\t\t\t\t\t\tStepIconComponent={ColorlibStepIcon}\r\n\t\t\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\t\t\tlabel: classes.stepLabel,\r\n\t\t\t\t\t\t\t\troot: classes.stepLabelRoot,\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{label}\r\n\t\t\t\t\t\t</StepLabel>\r\n\t\t\t\t\t</Step>\r\n\t\t\t\t))}\r\n\t\t\t</Stepper>\r\n\t\t\t<>\r\n\t\t\t\t{activeStep === steps.length ? (\r\n\t\t\t\t\t// lúc đặt thành công\r\n\t\t\t\t\t<></>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<div className=\"wrapper-step-content\">\r\n\t\t\t\t\t\t\t{getStepContent(activeStep)}\r\n\t\t\t\t\t\t\t<Ticket {...props} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{isShowNextButton && (\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\tonClick={handleNext}\r\n\t\t\t\t\t\t\t\tclassName={classes.button}\r\n\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\tdisplay: activeStep > 1 ? 'none' : 'block',\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{activeStep === steps.length - 1\r\n\t\t\t\t\t\t\t\t\t? 'Hoàn thành'\r\n\t\t\t\t\t\t\t\t\t: 'Kế tiếp'}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\t\t\t</>\r\n\t\t</div>\r\n\t);\r\n};\r\n","import React from 'react';\r\nimport { RouteComponentProps, useHistory } from 'react-router-dom';\r\nimport './Ticketing.scss';\r\nimport { ITicketingProps } from '../model/ITicketingProps';\r\nimport { CustomizedSteppers } from './Stepper';\r\nimport { LoadingCustom } from '../../../components';\r\n\r\ninterface IProps extends RouteComponentProps, ITicketingProps {}\r\n\r\nconst TicketingPage: React.FC<IProps> = (props) => {\r\n\tconst [loading, setLoading] = React.useState(true);\r\n\r\n\tconst { currentSession } = props.store.DetailPage;\r\n\tconst { isProcessing } = props.store.TicketingPage;\r\n\tconst history = useHistory();\r\n\r\n\tReact.useEffect(() => {\r\n\t\tsetTimeout(() => {\r\n\t\t\tsetLoading(false);\r\n\t\t}, 1500);\r\n\t\tif (loading) {\r\n\t\t\twindow.scrollTo(0, 0);\r\n\t\t}\r\n\t\tif (currentSession === null) {\r\n\t\t\thistory.push('/');\r\n\t\t}\r\n\t}, [isProcessing]);\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<LoadingCustom spinning={loading} opacity={1} text={'Loading'} />\r\n\t\t\t<LoadingCustom spinning={isProcessing} opacity={1} text={'Loading'} />\r\n\t\t\t{currentSession && (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<div className=\"wrapper-ticketing-page\">\r\n\t\t\t\t\t\t<CustomizedSteppers {...props} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</>\r\n\t\t\t)}\r\n\t\t</React.Fragment>\r\n\t);\r\n};\r\n\r\nexport default TicketingPage;\r\n","import IStore from \"../../../redux/store/IStore\";\r\nimport * as ticketingActions from \"../actions\";\r\nimport { Dispatch, bindActionCreators } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\nimport TicketingPage from \"./TicketingPage\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nfunction mapStateToProps(store: IStore) {\r\n    return {\r\n        store: store,\r\n    };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch: Dispatch) {\r\n    const allActions = {\r\n        ...ticketingActions,\r\n    };\r\n    return {\r\n        actions: bindActionCreators(allActions, dispatch),\r\n    };\r\n}\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(TicketingPage));\r\n\r\n"],"sourceRoot":""}